DROP TABLE MENTEE_DAY_MENU;
DROP SEQUENCE MENTEE_DAY_MENU_SEQ;

CREATE TABLE MENTEE_DAY_MENU
(
    MENU_NO         NUMBER           NOT NULL, 
    ID              VARCHAR2(200)    NOT NULL, 
    MENU_DATE       VARCHAR2(200)    NOT NULL, 
    FOOD_NO         NUMBER           NOT NULL, 
    MENU_GRAM      	NUMBER           NOT NULL,
    MENU_MORNING    VARCHAR2(200), 
    MENU_LUNCH      VARCHAR2(200), 
    MENU_EVEN       VARCHAR2(200), 
    MENU_SNACK      VARCHAR2(200), 
    CONSTRAINT MENTEE_DAY_MENU_PK PRIMARY KEY (MENU_NO)
)

CREATE SEQUENCE MENTEE_DAY_MENU_SEQ;

SELECT * FROM MENTEE_DAY_MENU;

INSERT INTO MENTEE_DAY_MENU
VALUES (
	MENTEE_DAY_MENU_SEQ.NEXTVAL,
	'MINTPARK',
	'20200102',
	208,
	20,
	NULL,
	NULL,
	'Y',
	NULL
)

SELECT MENU_NO, ID, MENU_DATE, FOOD_NO, MENU_MORNING, MENU_LUNCH, MENU_EVEN, MENU_SNACK
		FROM MENTEE_DAY_MENU
		WHERE ID IN 'MINTPARK' 
		AND '202001' IN (
			SELECT SUBSTR(MENU_DATE, 1, 6)
			FROM MENTEE_DAY_MENU
		)
		
		
SELECT SUM(FOOD_CALORIE * (FOOD_GRAM * MENU_GRAM))
      FROM MENTEE_DAY_MENU JOIN FOOD USING (FOOD_NO)
      WHERE FOOD_NO IN (
         SELECT FOOD_NO
         FROM MENTEE_DAY_MENU
         WHERE MENU_DATE IN '20200123'
      )		
